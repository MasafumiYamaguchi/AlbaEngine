# Alba Engine Development Rules

## 🛑 禁止事項（絶対厳守）
1. **コード生成の依頼禁止**
   - AIには「考え方」や「原因」を聞くこと。
   - 1行単位で自分で説明できないコードはコミットしてはならない。
2. **失敗画像の削除禁止**
   - バグった画像もノイズまみれの画像も、すべて日付つきで保存する。
3. **進捗を隠さない**
   - 未完成でも、バグっていても公開する。カッコつけない。
4. **シャットダウン儀式の無視禁止**
   - 作業を終える時は、必ずScrapsに「今日のスクショ＋1行感想」を書くこと。

---

## 🤖 AI活用ガイドライン
- **レンダリング方程式（コアロジック）**
  - まず自分で書く。教科書・論文を読み込む。
- **Metal API / ビルド環境 / ボイラープレート**
  - AIに頼って時短してOK。
- **コード取り込みの鉄則**
  - **コピペ厳禁！**
  - 理解してから、自分の手でタイプ（写経）する。

---

## 📝 記録と運用
### 1. 画像保存
- 出力した画像はとにかく保存する。
- ファイル名やフォルダに日付を入れる。

### 2. GitHub Issues (TODO & 日誌)
- 実装単位でIssueを立て、作業ログをコメントに残す。

> **Issueテンプレート例:**
> ## 目標
> - [ ] 球体とレイの交差判定を実装する
> ## ログ
> - **[2025-01-XX]**: 数式は理解した。実装したが画面が真っ黒。
> - **[原因調査]**: 方向ベクトルが正規化されていなかった。
> - **[解決]**: `normalize()` を入れたら表示された！ [画像添付]

### 3. Zenn Scraps (公開日記)
- **書くタイミング:**
  - 作業終了時（必須儀式）
  - 絵が変わった瞬間
  - ハマって解決しない時（ラバーダック・デバッグ）

---

## ⚙️ 技術仕様（Technical Standards）
迷ったときはここに戻る。

- **言語:** C++ (metal-cpp) + Metal Shading Language (MSL)
- **座標系:** **右手系** (Right-Handed), **Y-Up**
- **単位:** 長さ=**メートル (m)**, 角度=**ラジアン (rad)**
- **Metal NDC:** $Z: 0 \sim 1$ (OpenGLの -1~1 と混同しない！)
- **実装順序:**
  1. ハードコードのみ（外部ファイル読み込み禁止）
  2. UIなし（パラメータは定数書き換え）
  3. 物理的な正しさ優先（高速化は後回し）
